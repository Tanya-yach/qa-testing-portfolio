# Test cases for API Testing of Luxor.cz

**Product Name:** Luxor (https://www.luxor.cz/)  
**Prepared by:** Tetiana Yachna  
**Date:** 15.05.2025  
**Version:** 1.0  

| Test Case ID | Priority | Component(s)        | Test title/name                                                            |Precondition                                                    | Method  | Endpoint                         | Test data                                                                                                                                                                                                                                            | Expected result                                                                                                                 |
|--------------|----------|---------------------|----------------------------------------------------------------------------|----------------------------------------------------------------|---------|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
| TC_API-001   | P1       | Search API          | Verify API returns relevant results for a valid keyword                    |                                                                | GET     | /api/search?q={keyword}          | keyword = Hra                                                                                                                                                                                                                                        | Status 200 OK<br>Response contains product list with matching keyword "Hra"                                                     |
| TC_API-002   | P2       | Search API          | Verify API returns error with empty keyword                                |                                                                | GET     | /api/search?q=                   | keyword - empty                                                                                                                                                                                                                                      | Status 400 Bad Request<br>Response: { "error message": "Query parameter 'q' is required"}                                       |
| TC_API-003   | P1       | Filters API         | Verify filtering with one parameter                                        |                                                                | GET     | /products?{p1}                   | p1 = {category=Knihy}                                                                                                                                                                                                                                | Status 200 OK<br>Response contains product list with matching parameter                                                         |
| TC_API-004   | P2       | Filters API         | Verify filtering with multi-parameter                                      |                                                                | GET     | /api/products?{p1}&{p2}&{p3}     | p1 = {category=Knihy}, p2 = {age=11 - 14 let}, p3 = {language=ƒçesky}                                                                                                                                                                                 | Status 200 OK<br>Response contains product list with matching parameters                                                        |
| TC_API-005   | P1       | Product Page API    | Verify complete details are returned for a valid product ID                | Product ISBN-IN-STOCK-001 exists                               | GET     | /api/products/{id}               | id = ISBN-IN-STOCK-001                                                                                                                                                                                                                               | Status 200 OK<br>Response contains fields: id, name, price, inStock                                                             |
| TC_API-006   | P2       | Product Page API    | Verify API returns error for an invalid product ID                         |                                                                | GET     | /api/products/{id}               | id = invalid_id                                                                                                                                                                                                                                      | Status 404 Not Found                                                                                                            |
| TC_API-007   | P0       | Cart API            | Verify that a valid product that is in stock can be successfully added     | ISBN-IN-STOCK-001 exists and stock > 0                         | POST    | /api/cart/add                    | Body: { "product_Id": "ISBN-IN-STOCK-001", "quantity": 1 }                                                                                                                                                                                           | Status 201 Created<br>Response: { "message": "Product added to cart", "cart_id": "cart-001" }                                   |
| TC_API-008   | P0       | Cart API            | Verify adding a product out of stock returns an appropriate error          | ISBN-IN-STOCK-002 exists but is out of stock                   | POST    | /api/cart/add                    | Body: { "product_Id": "ISBN-IN-STOCK-002", "quantity": 1 }                                                                                                                                                                                           | Status 400 Bad Request<br>Response: { "error": "Product is out of stock" }                                                      |
| TC_API-009   | P0       | Cart API            | Verify API returns correct list of products in the cart                    | Cart contains '3' ISBN-IN-STOCK-001 products                   | GET     | /api/cart                        |                                                                                                                                                                                                                                                      | Status 200 OK<br>Response: { "productId": "ISBN-IN-STOCK-001", "quantity": 3 }                                                  |
| TC_API-010   | P1       | Cart API            | Verify API updates product quantity in the cart                            | Cart contains '3' ISBN-IN-STOCK-001 products                   | PUT     | /api/cart/update                 | Body: { "product_Id": "ISBN-IN-STOCK-001", "quantity": 2 }                                                                                                                                                                                           | Status 200 OK<br>Response: { "productId": "ISBN-IN-STOCK-001", "quantity": 2 }                                                  |
| TC_API-011   | P1       | Cart API            | Verify API removes a product from the cart                                 | Cart contains '2' ISBN-IN-STOCK-001 products                   | DELETE  | /api/cart/remove                 | Body: { "product_Id": "ISBN-IN-STOCK-001" }                                                                                                                                                                                                          | Status 200 OK<br>Response: { "message": "Product removed from cart" }                                                           |
| TC_API-012   | P0       | Checkout API        | Validate successful order creation with mock payment                       | Cart contains valid product; mock card is valid                | POST    | /api/orders/create               | Body: {"cart": "cart-001", "delivery": "bookshop_Prague", "payment":  { "method": "mock_card_valid", "card": "4111111111111111"}, "contacts": {"email": "test@mail.com", "phone": "234345345", "name": "Testname", "surname": "Testsurname"}         | Status 201 Created<br>Response: { "order_id": "mock_order_1", "status": "confirmed"}                                            |
| TC_API-013   | P1       | Checkout API        | Ensure API returns error with invalid mock card                            | Cart contains valid product; mock card is invalid              | POST    | /api/orders/create               | Body: {"cart": "cart-001", "delivery": "bookshop_Prague", "payment":  { "method": "mock_card_invalid", "card": "4000000000000000"}, "contacts": {"email": "test@mail.com", "phone": "234345345", "name": "Testname", "surname": "Testsurname"}       | Status 402 Payment Failed<br>Response: { "error": "Payment was rejected" }                                                      |
| TC_API-014   | P0       | Checkout API        | Validate order is not created with expired token                           | User exists with expired token; valid cart; mock card valid    | POST    | /api/orders/create               | Header: Bearer expired_token; Body: { "cart": "cart-001", "delivery": "bookshop_Prague","payment": { "method": "mock_card_valid", "card": "4111111111111111"}}                                                                                       | Status 401 Unauthorized<br>Response: { "error": "Token expired or invalid" }                                                    |
| TC_API-015   | P0       | User Account API    | Verify new user registration with valid input                              | User does not exist                                            | POST    | /api/auth/register               | Body: { "email": "valid_user@luxor.cz", "phone": "123456789", "name": "valid_name", "surname": "valid_surname","password": "ValidPass123!", "confirm_password": "ValidPass123!" }                                                                    | Status 201 Created<br>Response: { "message": "User registered successfully", "user_id": "user_001", "token": "jwt-token" }      |
| TC_API-016   | P0       | User Account API    | Verify login with valid credentials                                        | User already exists                                            | POST    | /api/auth/login                  | Body: { "email": "valid_user@luxor.cz", "password": "ValidPass123!" }                                                                                                                                                                                | Status 200 OK<br>Response: { "user_id": "user_001", "token": "jwt-token" }                                                      |
| TC_API-017   | P0       | User Account API    | Verify login fails with invalid password                                   | User already exists                                            | POST    | /api/auth/login                  | Body: { "email": "valid_user@luxor.cz", "password": "wrong_password" }                                                                                                                                                                               | Status 401 Unauthorized<br>Response: { "error": "Invalid credentials" }                                                         |
| TC_API-018   | P1       | User Account API    | Verify logout with valid token                                             | User is logged in                                              | POST    | /api/auth/logout                 | Header: Bearer valid_token                                                                                                                                                                                                                           | Status 200 OK<br>Response: { "message": "Logged out successfully" }                                                             |
| TC_API-019   | P1       | User Account API    | Verify user can update personal information                                | User is logged in                                              | PUT     | /api/user/profile                | Header: Bearer valid_token; Body: { "email": "new_valid_user@luxor.cz", "name": "new_name" }                                                                                                                                                         | Status 200 OK<br>Response: { "message": "Profile updated" }                                                                     |